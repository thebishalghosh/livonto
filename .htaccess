# Enable Rewrite Engine
RewriteEngine On

# Base directory (adjust if your project is in a subdirectory)
RewriteBase /Livonto/

# Don't rewrite files and directories that exist
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# Don't rewrite assets (CSS, JS, images, etc.)
RewriteCond %{REQUEST_URI} !\.(css|js|jpg|jpeg|png|gif|ico|svg|woff|woff2|ttf|eot)$ [NC]

# Don't rewrite admin and app directories
RewriteCond %{REQUEST_URI} !^/Livonto/(admin|app|storage|vendor|sql)/ [NC]

# Route all other requests to index.php
RewriteRule ^(.*)$ index.php?url=$1 [QSA,L]

# Remove .php extension from URLs (optional - for direct access)
RewriteCond %{THE_REQUEST} /public/([^?\s]*?)\.php[\s?] [NC]
RewriteRule ^ /%1? [R=301,L]

# Force trailing slash removal (optional)
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_URI} (.+)/$
RewriteRule ^ %1 [R=301,L]

